<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Linz Accessible E-Fleet Booking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Accessible e-fleet booking prototype for Linz AG with wheelchair-friendly options and public transport integration."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <a href="#main" class="skip-link" data-i18n="skip.link">Skip to main content</a>

    <header class="site-header">
      <div class="header-inner">
        <div>
          <h1 data-i18n="header.title">Linz Accessible E‑Fleet</h1>
          <p class="tagline" data-i18n="header.tagline">
            Book wheelchair‑friendly electric vehicles that connect seamlessly
            to Linz AG public transport.
          </p>
        </div>
        <div
          class="accessibility-toolbar"
          aria-label="Accessibility and language tools"
        >
          <div
            class="language-switcher"
            role="group"
            aria-label="Language selection"
          >
            <button
              type="button"
              class="lang-toggle"
              data-lang="en"
              aria-pressed="true"
            >
              EN
            </button>
            <button
              type="button"
              class="lang-toggle"
              data-lang="de"
              aria-pressed="false"
            >
              DE
            </button>
          </div>
          <button
            type="button"
            id="toggle-contrast"
            data-i18n="tools.highContrast"
          >
            High contrast
          </button>
          <button
            type="button"
            id="increase-font"
            aria-label="Increase font size"
            data-i18n="tools.increaseFont"
          >
            A+
          </button>
          <button
            type="button"
            id="decrease-font"
            aria-label="Decrease font size"
            data-i18n="tools.decreaseFont"
          >
            A−
          </button>
        </div>
      </div>
    </header>

    <main id="main">
      <section aria-labelledby="intro-heading" class="section intro hero">
        <div class="hero-grid">
          <div class="hero-copy">
            <h2 id="intro-heading" data-i18n="intro.heading">Why this project?</h2>
            <p data-i18n="intro.paragraph">
              Many wheelchair users cannot use standard ride‑sharing or taxis
              because vehicles do not support ramps or secure wheelchair
              positions. Our prototype bridges that gap:
            </p>
            <ul>
              <li data-i18n="intro.list1">
                On‑demand booking of e‑vehicles equipped with ramps.
              </li>
              <li data-i18n="intro.list2">
                Explicit capture of accessibility needs (number of wheelchairs,
                assistance level).
              </li>
              <li
                data-i18n="intro.list3"
                data-i18n-html="true"
              >
                Integration with Linz AG’s
                <abbr title="Elektronische Fahrplanauskunft">EFA</abbr> API to show
                real‑time departures at your origin stop.
              </li>
            </ul>
            <div class="hero-actions">
              <a
                href="#booking-heading"
                class="primary-link"
                data-i18n="booking.ctaPrimary"
              >
                Book your accessible ride
              </a>
              <a
                href="#departures-heading"
                class="secondary-link"
                data-i18n="booking.ctaSecondary"
              >
                See live departures
              </a>
            </div>
          </div>
          <div class="hero-highlights" aria-label="Highlights">
            <article class="card hero-card">
              <h3 data-i18n="hero.card1.title">Designed for wheelchair users</h3>
              <p data-i18n="hero.card1.body">
                Vehicles with ramps and secure spaces, explicit wheelchair count and
                assistance level in every booking.
              </p>
            </article>
            <article class="card hero-card">
              <h3 data-i18n="hero.card2.title">Connected to Linz AG</h3>
              <p data-i18n="hero.card2.body">
                Stop‑Finder suggestions and live departure monitor to coordinate
                transfers with trams and buses.
              </p>
            </article>
            <article class="card hero-card">
              <h3 data-i18n="hero.card3.title">Hackathon‑ready</h3>
              <p data-i18n="hero.card3.body">
                In‑memory backend, simple dispatch logic for 3 e‑vans and a clear API
                for future voice/WhatsApp access.
              </p>
            </article>
          </div>
        </div>
      </section>

      <section
        aria-labelledby="booking-heading"
        class="section booking-section"
      >
        <div class="booking-grid">
          <div class="booking-main">
            <h2 id="booking-heading" data-i18n="booking.heading">
              Book an accessible E‑Fleet ride
            </h2>

            <p class="section-description" data-i18n="booking.description">
              Bookings can be made for rides today or up to one day in advance.
              All vehicles have ramps and secure spaces for wheelchair users.
            </p>

            <div class="step-indicator" aria-label="Booking steps">
              <div class="step-indicator-item is-active" data-step="1">
                <span class="step-indicator-number">1</span>
                <span
                  class="step-indicator-label"
                  data-i18n="booking.legend.details"
                  >Your details</span
                >
              </div>
              <div class="step-indicator-item" data-step="2">
                <span class="step-indicator-number">2</span>
                <span
                  class="step-indicator-label"
                  data-i18n="booking.legend.trip"
                  >Trip details</span
                >
              </div>
              <div class="step-indicator-item" data-step="3">
                <span class="step-indicator-number">3</span>
                <span
                  class="step-indicator-label"
                  data-i18n="booking.legend.accessibility"
                  >Accessibility needs</span
                >
              </div>
            </div>

            <form id="booking-form" novalidate>
              <div class="form-steps">
                <div class="form-step" data-step="1">
                  <fieldset>
                    <legend data-i18n="booking.legend.details">Your details</legend>
                    <div class="field">
                      <label for="name">
                        <span data-i18n="booking.label.name">Name</span
                        ><span aria-hidden="true">*</span>
                      </label>
                      <input id="name" name="name" autocomplete="name" required />
                    </div>
                    <div class="field">
                      <label for="email">
                        <span data-i18n="booking.label.email">Email</span
                        ><span aria-hidden="true">*</span>
                      </label>
                      <input
                        id="email"
                        name="email"
                        type="email"
                        autocomplete="email"
                        required
                      />
                    </div>
                    <div class="field">
                      <label for="phone" data-i18n="booking.label.phone">Phone</label>
                      <input
                        id="phone"
                        name="phone"
                        type="tel"
                        autocomplete="tel"
                        placeholder="+43 …"
                      />
                    </div>
                  </fieldset>
                </div>

                <div class="form-step" data-step="2" hidden>
                  <fieldset>
                    <legend data-i18n="booking.legend.trip">Trip details</legend>
                    <p class="hint" data-i18n="booking.hint.trip">
                      Choose origin and destination from Linz AG stops or important
                      places. Suggestions come directly from the Linz AG EFA API.
                    </p>

                    <div class="field">
                      <label for="fromStopName">
                        <span data-i18n="booking.label.pickup"
                          >Pickup stop / place</span
                        ><span aria-hidden="true">*</span>
                      </label>
                      <input
                        id="fromStopName"
                        name="fromStopName"
                        list="fromStopList"
                        autocomplete="off"
                        aria-describedby="fromStopHint"
                        required
                      />
                      <datalist id="fromStopList"></datalist>
                      <p
                        class="hint"
                        id="fromStopHint"
                        data-i18n="booking.hint.pickup"
                      >
                        Start typing “Hauptbahnhof”, “JKU”, “solarCity”… and select a
                        suggestion.
                      </p>
                      <div class="map-link-row">
                        <a
                          id="fromStopMapLink"
                          class="map-link"
                          href="#"
                          target="_blank"
                          rel="noopener"
                          hidden
                          data-i18n="booking.map.view"
                        >
                          View on Google Maps
                        </a>
                      </div>
                      <input type="hidden" id="fromStopId" name="fromStopId" />
                    </div>

                    <div class="field">
                      <label for="toStopName">
                        <span data-i18n="booking.label.destination"
                          >Destination stop / place</span
                        ><span aria-hidden="true">*</span>
                      </label>
                      <input
                        id="toStopName"
                        name="toStopName"
                        list="toStopList"
                        autocomplete="off"
                        aria-describedby="toStopHint"
                        required
                      />
                      <datalist id="toStopList"></datalist>
                      <p
                        class="hint"
                        id="toStopHint"
                        data-i18n="booking.hint.destination"
                      >
                        Start typing your destination and pick one of the suggestions.
                      </p>
                      <div class="map-link-row">
                        <a
                          id="toStopMapLink"
                          class="map-link"
                          href="#"
                          target="_blank"
                          rel="noopener"
                          hidden
                          data-i18n="booking.map.view"
                        >
                          View on Google Maps
                        </a>
                      </div>
                      <input type="hidden" id="toStopId" name="toStopId" />
                    </div>

                    <div class="field field-inline">
                      <div>
                        <label for="date">
                          <span data-i18n="booking.label.date">Date</span
                          ><span aria-hidden="true">*</span>
                        </label>
                        <input id="date" name="date" type="date" required />
                      </div>
                      <div>
                        <label for="time">
                          <span data-i18n="booking.label.time">Pickup time</span
                          ><span aria-hidden="true">*</span>
                        </label>
                        <input id="time" name="time" type="time" required />
                      </div>
                    </div>
                  </fieldset>
                </div>

                <div class="form-step" data-step="3" hidden>
                  <fieldset>
                    <legend data-i18n="booking.legend.accessibility">
                      Accessibility needs
                    </legend>
                    <div class="field">
                      <label
                        for="wheelchairCount"
                        data-i18n="booking.label.wheelchairCount"
                        >Number of wheelchair users</label
                      >
                      <input
                        id="wheelchairCount"
                        name="wheelchairCount"
                        type="number"
                        min="0"
                        max="4"
                        value="1"
                      />
                    </div>

                    <div class="field">
                      <label
                        for="assistanceLevel"
                        data-i18n="booking.label.assistanceLevel"
                        >Assistance level</label
                      >
                      <select id="assistanceLevel" name="assistanceLevel">
                        <option
                          value="standard"
                          data-i18n="booking.option.assistance.standard"
                        >
                          Standard – ramp and secure space
                        </option>
                        <option
                          value="extra_time"
                          data-i18n="booking.option.assistance.extraTime"
                        >
                          Extra time for boarding / alighting
                        </option>
                        <option
                          value="with_assistant"
                          data-i18n="booking.option.assistance.withAssistant"
                        >
                          Needs driver to assist with wheelchair
                        </option>
                      </select>
                    </div>

                    <div class="field">
                      <label
                        for="notes"
                        data-i18n="booking.label.notes"
                        >Additional notes for the driver</label
                      >
                      <textarea
                        id="notes"
                        name="notes"
                        rows="3"
                        placeholder="E.g. service dog, oxygen equipment, transfer requirements…"
                      ></textarea>
                    </div>
                  </fieldset>
                </div>
              </div>

              <div class="form-actions">
                <div class="step-nav-buttons">
                  <button
                    type="button"
                    id="prevStep"
                    class="secondary-button"
                    data-i18n="booking.stepPrev"
                    hidden
                  >
                    Back
                  </button>
                  <button
                    type="button"
                    id="nextStep"
                    class="primary-button"
                    data-i18n="booking.stepNext"
                  >
                    Next step
                  </button>
                  <button
                    type="submit"
                    id="submitBooking"
                    class="primary-button"
                    data-i18n="booking.submit"
                    hidden
                  >
                    Book accessible ride
                  </button>
                </div>
                <p
                  id="formMessage"
                  class="form-message"
                  role="status"
                  aria-live="polite"
                ></p>
              </div>
            </form>
          </div>
          <aside class="booking-aside" aria-label="How the service works">
            <h3 data-i18n="booking.aside.title">How this prototype works</h3>
            <ol class="steps-list booking-steps">
              <li data-i18n="booking.aside.step1">
                You choose pickup and destination from Linz AG stops, plus date,
                time and accessibility needs.
              </li>
              <li data-i18n="booking.aside.step2">
                The backend validates that the trip is within the next 24 hours
                and assigns one of three demo e‑vans based on load and wheelchair
                capacity.
              </li>
              <li data-i18n="booking.aside.step3">
                The app calls Linz AG’s departure monitor to show real‑time
                departures at your pickup stop and updates the operator view with
                your booking.
              </li>
            </ol>
          </aside>
        </div>
      </section>

      <section
        aria-labelledby="departures-heading"
        class="section departures-section"
      >
        <div class="section-header">
          <h2 id="departures-heading" data-i18n="departures.heading">
            Live departures from your pickup stop (Linz AG)
          </h2>
          <button
            type="button"
            id="refreshDepartures"
            class="secondary-button"
            data-i18n="departures.refresh"
          >
            Refresh departures
          </button>
        </div>
        <p
          class="section-description"
          data-i18n="departures.description"
        >
          After you select a pickup stop, we use Linz AG’s EFA Departure
          Monitor to show the next public transport connections. This helps
          coordinate transfers between the E‑Fleet and trams / buses.
        </p>
        <div
          id="departures"
          class="card-list"
          aria-live="polite"
          aria-busy="false"
        ></div>
      </section>

      <section aria-labelledby="bookings-heading" class="section">
        <div class="section-header">
          <h2 id="bookings-heading" data-i18n="bookings.heading">
            Upcoming bookings (demo / operator view)
          </h2>
          <button
            type="button"
            id="refreshBookings"
            class="secondary-button"
            data-i18n="bookings.refresh"
          >
            Refresh bookings
          </button>
        </div>
        <p
          class="section-description"
          data-i18n="bookings.description"
        >
          This simple operator view shows all upcoming bookings in the next 24
          hours. In a full system, dispatchers would use this to assign
          vehicles and drivers.
        </p>
        <div id="bookings" class="card-list" aria-live="polite"></div>
      </section>
    </main>

    <footer class="site-footer">
      <p data-i18n="footer.text">
        Prototype for DevFest Linz – Great AI Hackathon · Built with Linz AG
        EFA open data · Accessibility‑first design.
      </p>
    </footer>

    <script src="app.js"></script>
  </body>
</html>